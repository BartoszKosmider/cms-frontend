<div *ngIf="componentToEdit$ | async as componentToEdit; else administratorPanel">
  <div class="commands">
    <button class="btn btn-primary" (click)="return()">
      <i class="bi bi-arrow-return-left"></i>
    </button>
  </div>
  <div [ngSwitch]="componentToEdit.type">
    @switch (componentToEdit.type) {
      <!-- site definition -->
      @case (componentType.Header) {
        <app-header-editor [value]="componentToEdit"></app-header-editor>
      }
      @case (componentType.Row) {
        <app-row-editor [value]="componentToEdit"></app-row-editor>
      }
      @case (componentType.Grid) {
        <app-grid-editor [value]="componentToEdit"></app-grid-editor>
      }

      <!-- components -->
      @case (componentType.Block) {
        <app-block-editor [value]="componentToEdit"></app-block-editor>
      }
      @case (componentType.Image) {
        <app-image-editor [value]="componentToEdit"></app-image-editor>
      }

      @default {
        Not defined yet!!!
      }
    }
  </div>
</div>

<ng-template #administratorPanel>
  <span *ngIf="isEditMode$ | async">
    <button class="btn btn-primary"
      (click)="addNewPage()">
      <i class="bi bi-file-text"></i> Add page
    </button>
    <button class="btn btn-primary"
      (click)="addNewRow()">
      <i class="bi bi-list"></i> Add row
    </button>

    <button class="btn btn-primary"
      (click)="toggleEditMode()">
      <i class="bi bi-save"></i> Save
    </button>
  </span>

  <button class="btn btn-primary"
    *ngIf="!(isEditMode$ | async)"
    (click)="toggleEditMode()">
    <i class="bi bi-unlock-fill"></i> Edit
  </button>
</ng-template>
